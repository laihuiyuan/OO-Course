# 图书馆管理系统需求分析
* [图书馆管理系统需求](https://github.com/zhongyehong/oo-homework/blob/740f55bb10169b0eb114bfaa3e26101026b2a190/library.md)
* [业务目标与涉众分析](https://github.com/llandll/OO-Course/blob/master/作业3：业务目标与涉众分析.md)

### 一、引言
#### 1.1 编写目的
* 编写需求的目的是明确本系统的详细需求，提供给使用单位确认系统的功能和性能，并在此基础上进行修改和完善。
* 作为设计人员进行软件设计的依据和使用单位的验收标准。
* 为成本计划和编制计划进度提供基础，为系统提供一个验收基准。
#### 1.2 项目背景
* OO课程作业，实现一个将各种图书管理和图书馆自习座位预约功能集合起来的管理信息系统就显得十分必要，既可以节省资源又可以有效存储、更新查询信息，提高工作和服务效率。

### 二、任务概述 
#### 2.1 目标  
* 本系统通过计算机技术实现图书信息和用户信息的管理，还包括如下目标：  
1.减少人力成本和管理费用;  
2.提高信息的准确性和信息的安全;   
3.改进管理和服务;   
4.良好的人机交互界面，操作简便；  
#### 2.2用户特点  
* 本系统的最终用户是面向管理员（图书馆管理员和其他管理人员）和读者（学生），管理员具有一定的计算机基础知识和操作计算机的能力，是经常性用户。读者可能只具备一般的计算机操作基础。
#### 2.3需求概述  
1.在图书管理系统中，管理员对学生各类信息进行管理和通知，及时更新图书和座位信息，并对违规行为做出惩罚;   
2.学生账户内存储读者个人的详细信息（包括提供借书卡号、姓名、学院和班级等信息），其可以凭账号和密码在图书馆系统进行图书的借、还、续借、查询，以及进行预约和取消预约自习座位等操作。
#### 2.4功能层次图
![image](https://github.com/llandll/OO-Course/blob/master/images-folder/功能层次图.png)

### 三、用况图和用况描述
#### 3.1 学生用况模型
* 通过分析，在学生操作子系统中，该系统可以完成以下功能：学生可以对个人信息查询修改，书籍和座位查询，借书还书，书籍和座位预约等。
#### 3.1.1 学生用况图
![image](https://github.com/llandll/OO-Course/blob/master/images-folder/学生用况图.png)
#### 3.1.2 学生用况描述
* 1.登录账号  
* 用    况：登录系统   
* 简    述：借阅者在进行一些操作时得先登录
* 参 与 者：学生
* 前置条件：系统正常运行
* 后置条件：学生登录成功
* 基本路径：  
①借阅者向系统发出登录请求，用例开始；  
②系统显示登录界面；  
③借阅者输入相关信息；  
④系统检查借阅者信息，如果输入的信息出现错误，跳到扩展路径；  
⑤系统显示登录成功，用例结束  
* 扩展路径：  
①系统要求借阅者重新输入相关信息或取消登录；  
②借阅者选择取消登录，则用例结束；  
③借阅者选择重新登录，转到基本路径3。
---
* 2.图书座位查询  
* 用    况：查找图书或座位
* 简    述：借阅者可通过登录图书系统查询书目或者座位信息  
* 参 与 者：学生
* 前置条件：图书馆的查询系统正常运行
* 后置条件：系统显示相应的图书或者座位信息。
* 基本路径：  
①学生向系统发出“查询”请求，用例开始；  
②系统要求学生输入个人要求；  
③用户输入个人要求；  
④系统确认要求并显示相关信息, 如果系统根据借阅者个人要求没显示相关信息，转到扩展路径；  
⑤用例结束。   
* 扩展路径：  
①要求用户选择重新输入个人要求或取消输入；  
②借阅者选择取消输入个人要求，则用例结束；  
③借阅者重新输入个人要求，转到基本路径4。  
---
* 3.个人信息查询  
* 用    况：个人信息查询  
* 简    述：借阅者可通过登录图书系统查询个人借阅的书籍信息  
* 参 与 者：学生
* 前置条件：学生成功登录系统。
* 后置条件：学生查询到个人的相应信息。
* 基本路径：  
①借阅者向系统提出查询请求，用例开始；  
②系统要求借阅者输入查询类别；  
③借阅者做出选择；  
④系统显示相应界面；  
⑤借阅者输入信息；  
⑥系统确认信息，显示借阅个人书籍信息，用例结束。 
* 扩展路径：无
---
* 4.预约图书或座位
* 用    况：预定图书或座位  
* 简    述：借阅者可通过登录图书系统订阅书籍
* 参 与 者：借阅者
* 前置条件：学生成功登录系统。
* 后置条件：成功预约到图书或者座位。
* 基本路径：  
①借阅者向系统发送个人请求，用例开始；  
②系统显示相应界面；  
③借阅者选择想要预订的书籍；  
④系统显示预订的书籍信息；  
⑤借阅者发送确定预订信息；  
⑥系统显示预订成功，用例结束。 
* 扩展路径：无
---
* 5.借阅或归还书籍
* 用    况：借阅或归还书籍  
* 简    述：学生可通过登录图书系统借阅或者归还书籍
* 参 与 者：学生
* 前置条件：学生成功登录系统。
* 后置条件：成功借阅或者归还图书。
* 基本路径：  
①学生向系统提出个人借阅或归还请求，用例开始；  
②系统要求用户输入想要借阅或归还书籍信息；  
③学生输入个人要求；  
④系统显示书籍信息；  
⑤学生选择要借阅或归还的书籍；  
⑥系统检查学生信息，显示借阅或者归还成功，如果系统没有找到与输入的信息相应的书籍，转到扩展路径；  
⑦用例结束。 
* 扩展路径：  
①系统要求学生重新输入要求或取消输入；  
②学生选择取消输入，则用例结束；  
③重新输入想要借阅书籍信息，转到基本路径5。
#### 3.2 管理员用例模型
* 通过分析，图书管理员可有以下功能：书目和座位信息管理，书籍归还和借阅处理，预约书籍和座位信息的管理，整理归还图书和统计书籍数目，以便对图书的流动信息进行管理，以及及时发布相关公告和通知。
#### 3.2.1 管理员用况图
![image](https://github.com/llandll/OO-Course/blob/master/images-folder/管理员用况图.png)
#### 3.2.2 管理员用况描述
* 1.管理学生信息  
* 用    况：管理学生信息  
* 简    述：管理员可通过图书管理系统对学生的信息进行查询、修改、冻结、惩罚和删除等相关处理；  
* 参 与 者：图书管理员  
* 前置条件：数据库里有相应的学生信息。
* 后置条件：成功处理学生信息。
* 基本路径：  
①图书管理员向图书管理系统发出请求；  
②系统要求管理员输入学生信息；  
③图书管理员输入学生信息；  
④系统检查学生信息，显示学生信息，管理员进行相关操作，如果输入的学生信息出现错误，转到扩展路径；  
⑤用例结束。
* 扩展路径：  
①系统要求管理员重新输入学生信息；  
②管理员重新输入学生信息，转到基本路径4。
---
* 2.处理借阅或预约信息  
* 用    况：处理学生借阅或者预约信息  
* 简    述：管理员可通过图书管理系统对学生借阅或者预约信息进行相关处理；  
* 参 与 者：图书管理员  
* 前置条件：成功登录管理系统，该学生信息没有进入黑名单。
* 后置条件：系统显示处理成功。
* 基本路径：  
①图书管理员向图书管理系统发出请求；  
②系统要求管理员输入学生信息和借阅预约的信息；  
③图书管理员输入相关信息；  
④系统检查学生信息，并检查学生是否有违规记录，如果没有则成功处理，否则转到扩展路径；  
⑤用例结束。 
* 扩展路径：  
①系统提示该学生有违规记录，询问是否提示学生先处理违规记录，若不处理则结束； 
②违规记录处理完成后转到基本路径2。
---
* 3.处理归还或者取消信息  
* 用    况：处理学生归还或者信息  
* 简    述：管理员可通过图书管理系统对学生借归还或者信息进行相关处理；  
* 参 与 者：图书管理员  
* 前置条件：成功登录管理系统。
* 后置条件：系统显示处理成功。
* 基本路径：  
①图书管理员向图书管理系统发出请求；  
②系统要求管理员输入学生信息和要处理的信息；  
③图书管理员输入相关信息；  
④系统检查学生信息及其相关信息，然后进行相应处理；  
⑤用例结束。   
* 扩展路径：  
无
---
* 4.发布公告和通知  
* 用    况：发布关于图书馆的通知  
* 简    述：管理员可通过图书管理系统发布相关通知  
* 参 与 者：图书管理员  
* 前置条件：成功登录管理系统。
* 后置条件：系统显示通知发布成功。
* 基本路径：  
①图书管理员向图书管理系统发出请求；  
②系统要求管理员输入要发布出去的信息；  
③图书管理员输入相关信息；  
④系统把信息进行发布；  
⑤用例结束。   
* 扩展路径：  
无
### 四、非功能性需求 
#### 4.1数据精确度  
* 保证查询的查全率和查准率为100%，所有在相应域中包含查询关键字的记录都能查到，所有在相应域中不包含查询关键字的记录都不能查到。
#### 4.2系统可用性  
* 系统应简单易用，用户能直接通过界面即可掌握所需功能的操作方法。
### 4.3灵活性  
* 系统应具有较好的灵活性，以适应将来功能扩展的需求。

### 五、与甲方沟通
#### 5.1 甲方情况与需求：
* 甲方图书馆有充足的人手手动对一些图书馆座位使用与书籍借阅的违规情况进行人工检查和系统录入。
* 图书馆管理系统并不需要和图书馆在岗人员的管理以及绩效考核挂钩。
* 国家有专门对对图书馆管理员计算机使用水平的培训，所以图书馆管理员的计算机水平可以放心。
* 该需求分析报告中提到的业务规则与非功能性需求满足甲方的需求，甲方对该需求分析报告整体表示满意。

#### 5.2甲方的业务规则：
* [内禀规则-1] 预约座位，最多只可提前24小时预约。每次预约时间为1小时的整倍数，最多一次预约8小时。
* [内禀规则-2] 借书时间默认为3个月，不可变更。
* [内禀规则-3] 累计3次座位使用违规者(包括违约与使用超时)，停止其使用座位权限3天。第3+n次违规后，停止其使用座位权限3+n天(n=1,2,...,7)。超过10次违规者永久停止座位使用权限。
* [内禀规则-4] 累计3次图书借阅违规者(包括逾期不还与借书不取)，停止其借阅图书权限30天。第3+n次违规后，停止其使用座位权限30+10n天(n=1,2,...,7)。超过10次违规者永久停止借阅图书权限。
* [交互规则-1] 只有有权限的用户可以申请使用图书馆座位。
* [交互规则-2] 只有有权限的用户可以申请图书馆书籍借阅。
* [交互规则-3] 图书馆图书续借只能发生在借阅未超期时。
* [交互规则-4] 图书馆图书续借最长不超过3个月。续借时间为月的整倍数。

#### 5.3甲方其他情况
* 因为图书馆管理人员充足，所以图书馆是24小时营业的。不过很多时候客户比较少，所以即使在更新一些东西时暂时停掉系统，对业务也没有很大影响。
* 甲方图书馆中，所有图书和所有座位均已有统一编号。完全相同的书馆藏中只有一本，并且这条规则不会改变。
* 由于20年内无馆建计划，不打算对座位格局进行变更，所以不需要提供座位信息删改调整的接口，只需要在系统初始化时将座位信息表格导入到系统中即可。
* 图书检索方面只需要实现针对编号进行精确查找或者针对书名进行模糊查找即可。无论是对图书馆管理员还是普通用户而言，编号是最方便的书籍代号。
* 座位检索方面，图书馆的1~4层每层只有一个自习区，图书馆座位使用者表示只需要能够检索特定层的空座位就好了。因为图书馆自习区座位设计比较合理，并且每个自习区座位数不多，所以每个座位环境什么的差别不大。
* 该图书馆所在国家最近正在大力推行一种公民统一账户系统，为每个国家公民提供一个账号，可以在所有地方应用。所以该甲方希望，该系统能且仅能以该账户的方式登录，包括普通用户和管理员用户。而该账户系统有提供统一的登录认证API。
* 由于图书馆管理员们的大力反对，甲方决定撤销该系统Q&A功能，决定以静态页面的形式呈现。
* 图书馆馆长在最近的调查中表示，之前所说的对违规者的处理方案太过仁慈了，所以甲方决定不对任何违规者宽容，内禀规则3、4修改成只要有一次违反相应规则，终生禁止其借书与使用座位的全部权利。
* 甲方认为，公告板应该对所有人可见，这样一方面，符合了图书馆管理员简单化管理流程的需求，另一方面面向所有用户公示催还书等信息也可以有效地起到督促作用。而且在针对图书馆用户做的调查中，用户也表示理解与可以接受。
